<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ex4</title>
</head>
<body>
    
<div id="big">
    <div id="countries"></div>
</div>



<div id="detail"></div>







<script>
    fetch('https://restcountries.eu/rest/v2/all')
    .then(res=>res.json())
    .then(data=>{
        showData(data)
        // console.log(data); got the data
    })


    function showData(data){
        const countries = document.getElementById('countries')
        data.forEach(country => {
          const newDiv = document.createElement('div')
          newDiv.className = 'newCls'
            const hemlTem=`
   
            <img src="${country.flag}" class="card-img-top" alt="...">
            <div class="card-body">
              <h5 class="card-title">${country.name}</h5>
              <p class="card-text">This is a longer card with supporting text below as a natural lead-in to additional content. This content is a little bit longer.</p>
              <button onclick="showDetail('${country.name}')">Detail</button>
         `
      newDiv.innerHTML = hemlTem;
      countries.appendChild(newDiv)
        });
    }

    //creating function for showing detail
    function showDetail(name){
        //collecting specific countries data
        fetch('https://restcountries.eu/rest/v2/name/united')
        .then(res=>res.json())
        .then(data=>{
       const dat =  data[0];
console.log(data[0].capital);
            const tem = `
                        <img src="" alt="">
                        <h1>${dat.name}'s capital is ${dat.capital}</h1>
                        <button onclick="back()">back</button>
                    `
                    document.getElementById('detail').innerHTML = tem;
        })
        //hideing other data
        document.getElementById('big').style.display='none'
    }
    function back(){
        document.getElementById('detail').style.display='none';
        document.getElementById('big').style.display='block'
    }
</script>
<style>
    #countries{
    display: grid;
    grid-template-columns: repeat(3,1fr);
    grid-gap: 20px;

    }
.newCls{
     width: 90%;
     border: 2px solid gray;
     text-align: center;
 }
 .newCls img{
     width: 100%;
 }

 .detail{
            margin: auto;
           
            width: 400px;
        }
</style>


<!-- <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-giJF6kkoqNQ00vy+HMDP7azOuL0xtbfIcaT9wjKHr8RbDVddVHyTfAAsrekwKmP1" crossorigin="anonymous"> -->
</body>
</html>